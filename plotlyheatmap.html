<base target="_blank">
<html><head><title>Stochastic Heat Map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="https://williamkpchan.github.io/maincss.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.js"></script>
<script src="https://williamkpchan.github.io/lazyload.min.js"></script>
<script src='https://williamkpchan.github.io/mainscript.js'></script>
<script src="https://williamkpchan.github.io/commonfunctions.js"></script>
<script src='https://cdn.plot.ly/plotly-2.34.0.min.js'></script>
<script>
  var showTopicNumber = false;
  var topicEnd = "<br>";
  var bookid = "Stochastic Heat Map"
  var markerName = "h2"
</script>
<style>
body{width:80%;margin-left: 10%; font-size:24px;}
h1, h2 {color: gold;}
strong {color: orange;}
img {max-width:100%; display: inline-block; margin-top: 2%;margin-bottom: 1%; border-radius:3px;}
#myDiv1 {display:inline-block; width:100%; height:1500px;}
#ohlcDiv {display:inline-block; width:100%; height:700px;}
#linechart {display:inline-block; width:100%; height:700px;}
</style></head><body onkeypress="chkKey()"><center>
<h1>Stochastic Heat Map</h1>
<div id="toc"></div></center><br>

<pre>
<h2>Heatmap Chart</h2>
<div id='myDiv1'></div><br>
<h2>OHLC Chart</h2>
<div id='ohlcDiv'></div><br>
<h2>Line Chart</h2>
<div id='linechart'></div><br>

<h2>Original Data</h2>
[["2024-05-30","270.000","263.400","270.400","261.000","9578077.000","253190.720"],
["2024-05-31","267.000","262.800","270.400","261.800","8122734.000","214963.323"],
["2024-06-03","265.200","267.600","270.400","264.000","5384777.000","143945.813"],
["2024-06-04","267.400","271.000","273.000","267.400","4744673.000","128779.675"],
["2024-06-05","273.200","274.000","280.200","272.800","5445354.000","150767.565"],
["2024-06-06","278.000","273.000","279.000","270.600","3622219.000","99170.536"],
["2024-06-07","273.800","270.800","275.600","269.600","3036160.000","82460.279"],
["2024-06-11","270.000","266.200","270.200","261.600","6423914.000","169970.983"],
["2024-06-12","264.200","262.600","265.000","261.200","3691973.000","96924.267"],
["2024-06-13","266.000","264.000","267.200","262.200","3734529.000","98451.762"],
["2024-06-14","262.000","257.600","262.200","257.000","6493092.000","167689.214"],
["2024-06-17","256.600","259.400","262.000","253.200","2942271.000","76233.466"],
["2024-06-18","260.000","258.200","261.800","257.000","2999110.000","77588.099"],
["2024-06-19","260.400","265.400","265.600","260.000","5101478.000","134424.076"],
["2024-06-20","264.600","263.200","266.200","262.000","3235755.000","85284.436"],
["2024-06-21","260.000","257.400","261.400","256.000","4578870.000","118115.481"],
["2024-06-24","255.000","257.800","258.000","254.400","2835277.000","72554.812"],
["2024-06-25","257.600","255.400","260.800","252.400","3936237.000","100590.406"],
["2024-06-26","252.600","256.000","257.400","252.600","2379273.000","60876.651"],
["2024-06-27","253.600","251.600","254.400","251.200","4982771.000","125612.306"],
["2024-06-28","248.200","250.200","254.000","248.200","4804572.000","120465.278"],
["2024-07-02","250.200","248.800","254.200","247.000","5510181.000","137900.410"],
["2024-07-03","251.200","251.600","253.000","248.400","3134030.000","78503.534"],
["2024-07-04","254.000","249.400","255.600","247.400","3858860.000","96393.869"],
["2024-07-05","249.000","244.800","250.400","243.800","6466626.000","158653.220"],
["2024-07-08","244.000","239.800","246.000","238.000","7936515.000","190688.036"],
["2024-07-09","238.000","240.000","242.000","237.200","4059352.000","97128.483"],
["2024-07-10","241.000","241.400","244.800","240.000","3601705.000","87121.255"],
["2024-07-11","244.800","248.200","249.000","243.200","5303009.000","130927.774"],
["2024-07-12","251.400","254.200","255.600","251.400","7497178.000","190376.616"],
["2024-07-15","251.000","247.600","251.800","245.200","5029709.000","124851.372"],
["2024-07-16","244.400","241.800","244.400","240.600","5805057.000","140409.736"],
["2024-07-17","241.400","243.000","244.000","240.600","3999703.000","96991.685"],
["2024-07-18","242.200","241.400","243.200","240.400","3097725.000","74814.258"],
["2024-07-19","239.000","239.000","240.600","237.400","4636352.000","110612.145"],
["2024-07-22","239.800","239.200","241.800","236.400","3876153.000","92495.058"],
["2024-07-23","239.800","235.800","241.400","235.000","4389657.000","103910.609"],
["2024-07-24","235.000","232.800","236.000","230.600","5232901.000","121630.378"],
["2024-07-25","232.800","230.000","233.200","229.000","4431062.000","101887.902"],
["2024-07-26","229.800","229.000","231.800","227.600","3583361.000","82171.889"],
["2024-07-29","232.000","231.000","233.200","230.400","2541509.000","58861.792"],
["2024-07-30","231.000","227.600","231.800","227.200","4340037.000","99044.902"],
["2024-07-31","227.800","231.800","233.800","225.200","6167990.000","142517.352"],
["2024-08-01","230.800","230.400","232.200","228.600","2717582.000","62545.632"],
["2024-08-02","227.000","226.600","227.200","225.000","5969609.000","134901.302"],
["2024-08-05","224.000","224.400","229.400","222.400","7425548.000","167067.321"],
["2024-08-06","226.000","226.200","228.400","225.200","3660299.000","82914.864"],
["2024-08-07","226.600","228.400","229.800","226.000","2941148.000","67158.806"],
["2024-08-08","225.800","227.600","231.400","224.200","3851102.000","87669.411"],
["2024-08-09","231.000","229.400","232.800","229.000","3881908.00","89457.79"]]

<script>


var data2 = [
{
z: [[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[67.188,100,2.083,71.429,87.883,24.66,53.061,88.75,0,72.881,95.855,17.878,0,0,24.197,0,0,22.816],[37.5,70.588,0,30.357,46.325,0,0,38.338,0,0,37.346,0,66.602,35.521,100,66.044,34.238,100],[0,13.329,0,0,0,1.935,0,0,0,0,0,35.432,19.358,25.578,25.257,16.528,22.506,24.07],[13.043,0,50.232,12.281,0,53.551,14.474,0,49.555,8.621,0,61.878,20.615,28.365,15.32,18.274,21.416,16.993],[0,0,26.565,0,0,0,0,0,18.147,0,0,23.325,100,93.945,91.248,97.393,77.882,90.338],[0,0,2.406,11.688,0,91.294,0,0,62.61,0,0,30.435,0,42.403,0,0,32.954,0],[19.767,0,100,4.545,0,86.958,0,0,90.196,23.171,0,100,1.601,0,25.835,1.445,0,26.109],[28.358,3.231,99.238,90.698,33.761,100,45.238,15.606,100,75.556,21.268,100,60.809,30.975,81.608,62.078,33.512,83.599],[85.106,37.888,100,71.795,68.997,48.17,81.481,50.769,82.597,97.778,68.1,87.082,8.265,16.56,27.135,9.897,20.235,27.644],[36.17,34.95,31.93,0,40.13,0,0,35.101,0,31.111,48.624,2.041,46.091,42.466,62.037,45.795,43.619,61.415],[0,0,1.807,5,1.457,37.498,0,0,0,13.636,9.797,19.735,0,0,24.711,0,0,24.442],[27.083,0,69.281,0,0,32.008,34.146,0,76.322,0,0,30.612,48.582,24.93,66.302,45.314,20.929,64.637],[0,0,22.083,6,0,47.503,0,0,29.013,2.083,0,50.708,0,0,3.099,0,0,4.623],[8.333,0,53.993,0,0,17.504,0,0,9.915,0,0,41.667,95.639,77.673,98.923,88.019,70.361,93.7],[0,0,13.508,0,0,54.47,0,0,52.432,0,0,22.414,93.155,100,58.736,92.049,100,59.28],[16.949,0,90.171,0,0,73.698,2.703,0,75.998,0,0,64.38,100,100,57.452,100,100,58.453],[31.915,3.269,100,31.111,7.924,100,0,0,57.996,18.919,0,100,24.107,55.596,0,22.885,54.16,0],[61.702,33.172,100,8.333,4.412,44.904,33.333,14.578,100,7.143,0,65.652,47.257,41.495,49.077,46.112,39.436,49.177],[13.793,20.429,12.195,0,0,0,0,0,0,0,0,0,100,93.441,100,100,89.813,100],[0,0,0,0,0,0,0,0,0,0,0,0,100,100,89.776,100,100,87.329],[0,0,0,1.695,0,57.149,0,0,8.015,0,0,53.325,19.268,64.724,0,16.602,61.574,0],[18.75,0,80.241,13.559,0,90.212,20.588,0,91.193,25,1.741,100,9.738,20.326,26.251,7.682,15.49,27.589],[42.5,15.922,100,71.186,39.934,100,51.471,22.678,100,53.571,27.494,100,45.164,22.131,79.145,46.73,19.933,81.634],[83.75,58.384,100,100,100,100,100,72.204,100,100,90.11,100,89.865,77.373,98.587,99.699,83.654,100],[97.015,91.142,60.945,54.167,98.223,13.068,72.059,100,32.079,56.338,100,21.726,32.943,62.048,26.475,36.431,70.68,23.687],[47.761,75.698,6.001,13.889,54.606,0,17.647,54.682,0,23.944,64.141,2.053,50.829,59.029,54.323,51.453,63.337,48.81],[25.373,36.458,15.877,21.127,28.723,44.67,14.706,16.008,34.801,23.944,33.469,32.212,10.217,18.077,29.931,9.559,18.385,28.451],[11.538,18.75,44.753,0,14.181,41.805,0,0,46.394,3.509,21.549,40.585,0,0,5.459,0,0,7.564],[0,0,26.027,0,0,31.145,0,0,34.801,0,0,22.596,34.973,7.4,66.129,30.977,5.431,61.886],[6.452,0,44.301,1.316,0,45.494,8,0,54.002,0,0,29.287,17.694,6.626,33.103,15.3,4.066,33.003],[6.667,0,82.025,0,0,63.054,7.143,0,96.289,0,0,76.276,47.72,20.018,67.12,44.357,14.813,68.928],[0,0,27.629,0,0,52.243,0,0,34.8,0,0,27.838,78.866,44.269,91.972,71.371,35.167,89.675],[0,0,25.613,0,0,9.451,0,0,15.917,0,0,38.577,62.446,91.152,36.847,57.83,68.209,36.61],[0,0,21.042,0,0,62.252,0,0,54.533,0,0,62.838,22.745,33.244,14.18,15.716,12.302,15.915],[22,0,100,19.608,1.905,100,14,0,100,28.571,6.425,100,0,0,0,0,0,0],[12,0,75.567,0,0,24.138,0,0,71.119,0,0,36.111,66.825,26.984,100,64.018,24.377,100],[0,0,21.1,51.22,15.294,100,20.833,8.387,100,0,0,25,100,100,100,100,100,100],[41.667,3.396,100,53.846,24.288,57.417,9.524,6.154,65.082,62.963,7.937,100,4.855,53.378,0,4.404,53.333,0],[0,0,17.44,0,0,0,0,0,0,0,0,10.345,94.53,97.967,93.82,90.896,94.956,90.872],[0,0,0,0,0,10.911,33.333,0,85.852,0,0,0,100,100,100,100,100,99.524],[25,0,84.935,24.324,0,72.722,18.182,0,74.533,35,0,87.756,22.907,71.025,0,22.229,70.371,0],[37.143,8.29,89.226,54.054,28.164,96.372,39.394,16.311,93.379,58.065,21.951,84.695,4.749,12.351,22.435,4.414,11.097,22.735],[26.471,13.847,59.129,43.243,41.538,57.283,63.636,40.756,100,29.032,24.467,34.68,24.077,0,67.874,24.037,0,68.067],[100,69.998,100,83.333,62.666,82.083,100,79.826,98.263,100,88.9,100,24.731,7.534,62.098,25.748,8.67,63.258]],
x: ["Open","WAveOpen","Open_WA","Close","WAveClose","Close_WA","High","WAveHigh","High_WA","Low","WAveLow","Low_WA","Vol","WAveVol","Vol_WA","Amt","WAveAmt","Amt_WA"],
y: ["2024-05-30","2024-05-31","2024-06-03","2024-06-04","2024-06-05","2024-06-06","2024-06-07","2024-06-11","2024-06-12","2024-06-13","2024-06-14","2024-06-17","2024-06-18","2024-06-19","2024-06-20","2024-06-21","2024-06-24","2024-06-25","2024-06-26","2024-06-27","2024-06-28","2024-07-02","2024-07-03","2024-07-04","2024-07-05","2024-07-08","2024-07-09","2024-07-10","2024-07-11","2024-07-12","2024-07-15","2024-07-16","2024-07-17","2024-07-18","2024-07-19","2024-07-22","2024-07-23","2024-07-24","2024-07-25","2024-07-26","2024-07-29","2024-07-30","2024-07-31","2024-08-01","2024-08-02","2024-08-05","2024-08-06","2024-08-07","2024-08-08","2024-08-09"],

type: 'heatmap',
showscale: true,
xgap :	1,
ygap :	1,

}
];

var layout = {
title: "00388 香港交易所",

  annotations: [],
  xaxis: { ticks: '', side: 'top', autosize: true },
  yaxis: {
    ticks: '', ticksuffix: ' ', width: 700, height: 700, autosize: true
  },
  font: { family: 'Arial', size: 12, color: 'rgb(50, 171, 96)' },
  showlegend: true,
  showgrid: true,
  // width: 1000,
  height: 1500,
  //margin: { l: 0, r: 0, b: 0, t: 0, pad: 0 },
  paper_bgcolor:"#000",
};

  Plotly.newPlot('myDiv1', data2, layout);


var trace1 = {
  x: ["2024-05-30","2024-05-31","2024-06-03","2024-06-04","2024-06-05","2024-06-06","2024-06-07","2024-06-11","2024-06-12","2024-06-13","2024-06-14","2024-06-17","2024-06-18","2024-06-19","2024-06-20","2024-06-21","2024-06-24","2024-06-25","2024-06-26","2024-06-27","2024-06-28","2024-07-02","2024-07-03","2024-07-04","2024-07-05","2024-07-08","2024-07-09","2024-07-10","2024-07-11","2024-07-12","2024-07-15","2024-07-16","2024-07-17","2024-07-18","2024-07-19","2024-07-22","2024-07-23","2024-07-24","2024-07-25","2024-07-26","2024-07-29","2024-07-30","2024-07-31","2024-08-01","2024-08-02","2024-08-05","2024-08-06","2024-08-07","2024-08-08","2024-08-09"],

  close: [263.4,262.8,267.6,271,274,273,270.8,266.2,262.6,264,257.6,259.4,258.2,265.4,263.2,257.4,257.8,255.4,256,251.6,250.2,248.8,251.6,249.4,244.8,239.8,240,241.4,248.2,254.2,247.6,241.8,243,241.4,239,239.2,235.8,232.8,230,229,231,227.6,231.8,230.4,226.6,224.4,226.2,228.4,227.6,229.4],
  decreasing: {line: {color: '#7F7F7F'}}, 

  high: [270.4,270.4,270.4,273,280.2,279,275.6,270.2,265,267.2,262.2,262,261.8,265.6,266.2,261.4,258,260.8,257.4,254.4,254,254.2,253,255.6,250.4,246,242,244.8,249,255.6,251.8,244.4,244,243.2,240.6,241.8,241.4,236,233.2,231.8,233.2,231.8,233.8,232.2,227.2,229.4,228.4,229.8,231.4,232.8],
  increasing: {line: {color: '#17BECF'}}, 
  line: {color: 'rgba(31,119,180,1)'}, 

  low: [261,261.8,264,267.4,272.8,270.6,269.6,261.6,261.2,262.2,257,253.2,257,260,262,256,254.4,252.4,252.6,251.2,248.2,247,248.4,247.4,243.8,238,237.2,240,243.2,251.4,245.2,240.6,240.6,240.4,237.4,236.4,235,230.6,229,227.6,230.4,227.2,225.2,228.6,225,222.4,225.2,226,224.2,229],
  open: [270,267,265.2,267.4,273.2,278,273.8,270,264.2,266,262,256.6,260,260.4,264.6,260,255,257.6,252.6,253.6,248.2,250.2,251.2,254,249,244,238,241,244.8,251.4,251,244.4,241.4,242.2,239,239.8,239.8,235,232.8,229.8,232,231,227.8,230.8,227,224,226,226.6,225.8,231],

  // cutomise colors
  increasing: {line: {color: 'red'}},
  decreasing: {line: {color: 'green'}},

  type: 'candlestick', 
  xaxis: 'x', 
  yaxis: 'y'
};

var data = [trace1];
var layout = {
title: "00388 香港交易所",
  dragmode: 'zoom', 
  // margin: { r: 10, t: 25, b: 40, l: 60 }, 
  showlegend: false,
  xaxis: { rangeslider: { visible: false } }, 

  //xaxis: { autorange: true, 
  // rangeslider: {range: ['2017-01-17 12:00', '2017-02-10 12:00']}, 
title: "00388 香港交易所",
  yaxis: { autorange: true,  type: 'linear' }

};
Plotly.newPlot('ohlcDiv', data, layout);


var traceLine1 = {
  y: [265.3,265.3,265.3,268.5,271.933,273,272.067,268.867,265.167,263.9,260.567,259.567,258.5,262,263.1,260.667,258.567,256.533,256.1,253.7,251.633,249.733,250.433,250.033,247.467,243.067,240.733,240.667,244.567,250.067,249.9,245.8,243.367,242,240.467,239.5,237.467,234.867,231.9,229.967,230.167,228.967,230.267,230.4,228.733,226.133,225.667,227,227.633,228.633],
  name: 'WAveClose',
  type: 'scatter',
  line: { color: '#ff8020', width: 1, dash: 'solid', },

};

var traceLine2 = {
  y: [270.657,270.657,270.657,270.657,270.657,270.657,271.276,270.229,267.99,266.39,263.295,261.495,260,261.162,261.733,260.619,259.933,258.552,257.533,255.362,253.448,251.752,251.267,250.448,248.6,245.857,243.733,242.495,243.552,246.486,247.305,246.333,245.61,244.286,242.276,240.762,238.99,236.924,234.486,232.381,231.438,229.905,230.124,230.133,229.171,227.743,227.048,227.21,227.105,227.714],
  name: 'WAveClose2',
  type: 'scatter',
  line: { color: '#c01040', width: 1, dash: 'dashdot', },
};

var traceLine3 = {
  y: [264.856,264.856,264.856,264.856,264.856,264.856,264.856,264.856,264.856,264.856,264.856,264.856,263.651,263.621,263.218,261.979,260.977,259.813,258.967,257.633,256.272,254.854,254.062,253.008,251.374,249.144,247.272,245.913,245.805,246.744,246.682,245.836,245.3,244.61,243.646,242.874,241.71,240.2,238.349,236.472,235.062,233.349,232.623,231.885,230.708,229.403,228.592,228.285,227.992,228.082],
  name: 'WAveClose3',
  type: 'scatter',
  line: { color: '#c01040', width: 1, dash: 'dashdot', },
};

var traceLine4 = {
  y: [262.767,262.767,262.767,265.333,269.533,270.8,270.467,265.767,262.733,261.767,259.433,255.967,255.733,257.867,260.5,258.667,256.2,253.667,252.833,251.867,249.933,248.1,247.9,247.667,245.767,241.5,238.567,238.733,241.133,246.767,246.933,243.933,241.367,240.5,238.933,237.4,235.867,233.033,230.533,228.567,229.233,228.333,226.733,227.233,226.233,224.3,224.233,225.133,224.967,226.9],
  name: 'WAveClose3',
  type: 'scatter',
  line: { color: 'rgb(16, 160, 0)', width: 1, dash: 'solid', },
};

var traceLine5 = {
  y: [268.276,268.276,268.276,268.276,268.276,268.276,269.229,267.486,265.638,264.21,261.543,258.543,257.457,257.829,258.848,258.114,257.219,255.876,254.629,253.19,251.314,249.752,249.019,248.286,246.762,244,241.638,240.6,240.81,243.61,244.448,243.905,243.238,242.352,240.59,238.819,237.362,235.133,232.924,230.867,230.219,228.99,227.629,227.705,226.848,225.438,225.076,225.19,224.848,225.924],
  name: 'WAveClose3',
  type: 'scatter',
  line: { color: 'rgb(16, 160, 0)', width: 1, dash: 'dashdot', },
};

var traceLine6 = {
  y: [262.205,262.205,262.205,262.205,262.205,262.205,262.205,262.205,262.205,262.205,262.205,262.205,261.2,260.708,260.546,259.487,258.328,257.097,256.131,255.167,253.874,252.564,251.664,250.721,249.297,247.151,245.164,243.926,243.385,244.249,244.172,243.482,242.928,242.441,241.577,240.7,239.749,238.233,236.567,234.79,233.603,232.087,230.574,229.841,228.708,227.374,226.703,226.31,225.774,226.115],
  name: 'WAveClose3',
  type: 'scatter',
  line: { color: 'rgb(16, 160, 48)', width: 1,
    // dash: 'dashdot',
       dash: 'dashdot', },
};


var linedata = [traceLine1, traceLine2, traceLine3, traceLine4, traceLine5, traceLine6];
var linelayout = {
title: "00388 香港交易所",
       // height: 500,
       showgrid: true,
       zeroline: true,
       showlegend: false,

title: "00388 香港交易所",
title: "00388 香港交易所",
 };
Plotly.newPlot('linechart', linedata, linelayout);

</script>

<script>
var lazyLoadInstance = new LazyLoad({
    elements_selector: ".lazy"
});

function changeCode(thecode) {
	localStorage.setItem("randomcode", thecode)
     window.location.href = "https://williamkpchan.github.io/LibDocs/Random%20Charts.html";
}


</script>
<h2>EOP</h2>

<a href="https://plotly.com/javascript/heatmaps/#heatmap-with-categorical-axis-labels" class="whitebut ">plotly heatmaps</a>
<a href="https://plotly.com/javascript/ohlc-charts/" class="whitebut ">ohlc-charts</a>
<a href="https://plotly.com/javascript/candlestick-charts/" class="whitebut ">candlestick charts</a>
<a href="https://plotly.com/javascript/line-charts/" class="whitebut ">line charts</a>






<script src='https://williamkpchan.github.io/LibDocs/readbook.js'></script>
<script>
function chkKey() {
  var testkey = getChar(event);
  if(testkey == '0'){changeCode('000001.sh');}
  else if(testkey == '1'){window.location = '#myDiv1';}
  else if(testkey == '2'){window.location = '#ohlcDiv';}
  else if(testkey == '3'){window.location = '#linechart';}
  else if(testkey == 'e'){window.scrollTo(0,document.body.scrollHeight);}
  else{ chkOtherKeys(testkey) }
}
</script>
</pre></body>
</html>
